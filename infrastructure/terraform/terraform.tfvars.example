# Flowlet Terraform Variables Example
# Copy this file to terraform.tfvars and fill in your actual values
# 
# cp terraform.tfvars.example terraform.tfvars
# 
# NEVER commit terraform.tfvars to version control!

# General Configuration
project_name = "flowlet"
environment  = "development" # Options: development, staging, production
aws_region   = "us-west-2"

# Terraform State (only required for remote S3 backend)
# terraform_state_bucket = "your-flowlet-terraform-state"
# terraform_lock_table   = "your-flowlet-terraform-locks"

# Networking Configuration
vpc_cidr             = "10.0.0.0/16"
public_subnet_cidrs  = ["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]
private_subnet_cidrs = ["10.0.11.0/24", "10.0.12.0/24", "10.0.13.0/24"]

enable_nat_gateway = true
enable_vpn_gateway = false

# Security Configuration
allowed_cidr_blocks = ["0.0.0.0/0"] # CHANGE THIS! Restrict to your IP ranges

# Database Configuration
db_instance_class    = "db.t3.micro"
db_allocated_storage = 20
db_engine_version    = "15.4"
multi_az             = false

db_name     = "flowlet"
db_username = "flowlet"
# db_password is auto-generated, stored in AWS Secrets Manager

backup_retention_period = 7
backup_window           = "03:00-04:00"
maintenance_window      = "sun:04:00-sun:05:00"
enable_encryption       = true

# Redis Configuration
redis_node_type       = "cache.t3.micro"
redis_num_cache_nodes = 1

# Kubernetes Configuration
cluster_version = "1.28"

node_groups = {
  general = {
    instance_types = ["t3.medium"]
    capacity_type  = "ON_DEMAND"
    min_size       = 1
    max_size       = 5
    desired_size   = 2
    disk_size      = 20
    labels = {
      role = "general"
    }
    taints = []
  }
  # Uncomment to add compute-optimized nodes
  # compute = {
  #   instance_types = ["c5.xlarge"]
  #   capacity_type  = "SPOT"
  #   min_size       = 0
  #   max_size       = 10
  #   desired_size   = 2
  #   disk_size      = 50
  #   labels = {
  #     role = "compute"
  #   }
  #   taints = []
  # }
}

enable_irsa                         = true
enable_cluster_autoscaler           = true
enable_aws_load_balancer_controller = true
